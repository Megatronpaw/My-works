# Testing Platform

**Testing Platform** — это современное веб-приложение для создания, управления и прохождения тестов.  
Система построена на основе **RESTful API**, поддерживает безопасную аутентификацию через **JWT**, ролевую модель доступа и автоматическую документацию API.

Проект предназначен для использования в образовательной среде, где преподаватели могут создавать тесты, а студенты — проходить их и получать результаты.

---

## Функциональность

- JWT-аутентификация с refresh-токенами  
- Ролевая модель пользователей (Admin / Teacher / Student)  
- Создание, редактирование и публикация тестов  
- Поддержка разных типов вопросов (один ответ, несколько ответов, текстовый)  
- Автоматическая проверка и подсчёт результатов  
- Логирование событий и глобальная обработка ошибок  

---

## Используемые технологии

- **.NET 8 / ASP.NET Core Web API**  
- **Entity Framework Core 9 + SQLite**  
- **JWT Bearer Authentication + BCrypt.Net**  
- **Swagger / OpenAPI**  
- **Serilog (Console + File + SQLite logging)**  
- **GitHub Actions CI/CD**  
- **AutoMapper**  

---

## Архитектура проекта

Проект построен с использованием многослойной архитектуры (**Clean Architecture**) и разделён на следующие проекты:

- `TestingPlatform.Domain` — сущности, интерфейсы репозиториев, исключения  
- `TestingPlatform.Application` — бизнес-логика, DTO, сервисы  
- `TestingPlatform.Infrastructure` — EF Core, репозитории, миграции  
- `TestingPlatform` (Web API) — контроллеры, конфигурация, точка входа  

---

## Ключевые сущности системы

- **User** — базовый пользователь системы с учётными данными  
- **Student** — студент, может проходить тесты  
- **Teacher** — преподаватель, создаёт тесты и просматривает результаты  
- **Admin** — администратор, управляет пользователями и системой  
- **Test** — тест с настройками (лимит времени, попытки, проходной балл)  
- **Question** — вопрос теста с типом и количеством баллов  
- **Answer** — вариант ответа на вопрос  
- **TestResult** — результат прохождения теста пользователем  
- **Role** — роли пользователей в системе  

---

## Авторизация и безопасность

Система использует **JWT (JSON Web Tokens)** для аутентификации пользователей.  
Пароли хранятся в виде хеша с использованием **BCrypt**.
Реализовано разграничение доступа по ролям через атрибуты:
Все endpoint'ы защищены в зависимости от прав пользователя.

---

## CI / Автоматизация

В проекте настроен процесс автоматической сборки и проверки кода через **GitHub Actions**.  
При каждом `push` или `pull request` в ветку `main` автоматически запускается CI pipeline.

Основные этапы выполнения:

- Клонирование репозитория на виртуальную машину
- Установка **.NET 8 SDK**
- Восстановление зависимостей командой:
- Сборка проекта в режиме Release:
- Запуск модульных тестов:
- Публикация артефактов (опционально)
- Создание Docker-образа (опционально)

---

## Документация API

API системы полностью документировано с использованием **Swagger/OpenAPI**.  
После запуска приложения доступна интерактивная документация

---

## Обработка ошибок и логирование

В проекте реализована централизованная обработка ошибок через middleware.  
Используется структурированное логирование через **Serilog**.

---

## Модель данных
<img width="1490" height="966" alt="Модель данных" src="https://github.com/user-attachments/assets/7efc52b9-d12a-40c6-a0f6-8b2094d47174" />


## Трудности и выводы

Основные сложности:

- Абсолютные пути в `.csproj` файлах  
- Настройка миграций EF Core для SQLite  
- Реализация refresh-токенов  
- Настройка Serilog для нескольких источников  

---

## Идеи для развития проекта

- Поддержка PostgreSQL  
- Email/WebSocket уведомления  
- Аналитика результатов  
- Redis-кэширование  
- Импорт/экспорт тестов (JSON, CSV)  
- Интеграция с LDAP/Active Directory  
